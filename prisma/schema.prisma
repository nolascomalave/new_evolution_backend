generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["interactiveTransactions"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model TEMP_unit_measurement {
  id                           Int  @id @default(autoincrement())
  category                     String? @db.VarChar(50)
  type                         String? @db.VarChar(50)
  subtype                      String? @db.VarChar(50)
  unit_measurement             String? @db.VarChar(250)
  symbol                       String? @db.VarChar(250)
  value                        String? @db.VarChar(250)
  numericValue                 String? @db.VarChar(250)
  category_id                  String?  @db.Uuid
  type_id                      String?  @db.Uuid
  subtype_id                   String?  @db.Uuid
  unit_measurement_category_id String?  @db.Uuid
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model TEMP_unit_measurement_category {
  id                           Int                     @id @default(autoincrement())
  unit_measurement_category_id String?  @db.Uuid
  category                     String                     @db.VarChar(100)
  annulled_at                  DateTime?                  @db.Timestamp(6)
  annulled_by                  String? @db.Uuid
  unit_measurement_category    unit_measurement_category? @relation(fields: [unit_measurement_category_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "TEMP_unit_measurement_categor_unit_measurement_category_id_fkey")
  system_subscription_user     system_subscription_user?  @relation(fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([unit_measurement_category_id, category], map: "unit_measurement_category_pk1")
}

model entity_type {
  id                                      String  @id @default(uuid()) @db.Uuid
  // entity_parent_id                        String?  @db.Uuid
  is_hierarchical                         Boolean @default(false)
  applies_to_natural                      Boolean @default(false)
  applies_to_legal                        Boolean @default(false)
  type                                    String  @unique(map: "entity_type") @db.VarChar(255)
  code                                    String  @unique(map: "code") @db.VarChar(255)
  created_at                              DateTime                    @default(now()) @db.Timestamp(6)
  created_by                              String @db.Uuid
  updated_at                              DateTime?                   @db.Timestamp(6)
  updated_by                              String? @db.Uuid
  annulled_at                             DateTime?                   @db.Timestamp(6)
  annulled_by                             String? @db.Uuid

  annullator_user                         system_subscription_user?   @relation("entity_type_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                            system_subscription_user    @relation("entity_type_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  updater_user                            system_subscription_user?   @relation("entity_type_updated_byTosystem_subscription_user", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)


  relation_as_hierarchy_child             entity_type_hierarchy[]      @relation("entity_type_hierarchyToentity_type")
  relation_as_hierarchy_parent            entity_type_hierarchy[]      @relation("entity_type_hierarchyToentity_type_parent")


  relation                                entity_type_relation[]      @relation("entity_type_relationToentity_type")
  entity_related                          entity_type_relation[]      @relation("entity_type_relationToentity_type_related")

  entity_type_by_entity                   entity_type_by_entity[]     @relation("entity_type_by_entityToentity_type")
}

model entity_type_hierarchy {
  id                                      String  @id @default(uuid()) @db.Uuid
  // entity_parent_id                                                         String?  @db.Uuid
  entity_type_id                          String  @db.Uuid
  entity_type_parent_id                   String  @db.Uuid
  created_at                              DateTime                    @default(now()) @db.Timestamp(6)
  created_by                              String @db.Uuid
  updated_at                              DateTime                    @default(now()) @db.Timestamp(6)
  updated_by                              String @db.Uuid
  annulled_at                             DateTime                    @default(now()) @db.Timestamp(6)
  annulled_by                             String @db.Uuid

  entity_type                             entity_type?                @relation("entity_type_hierarchyToentity_type", fields: [entity_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_type_parent                      entity_type?                @relation("entity_type_hierarchyToentity_type_parent", fields: [entity_type_parent_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  annullator_user                         system_subscription_user?   @relation("entity_type_hierarchy_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                            system_subscription_user    @relation("entity_type_hierarchy_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  updater_user                            system_subscription_user?   @relation("entity_type_hierarchy_updated_byTosystem_subscription_user", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([entity_type_id, entity_type_parent_id])
}

model entity_type_relation {
  id                                      String  @id @default(uuid()) @db.Uuid
  entity_type_id                          String  @db.Uuid
  entity_type_related_id                  String  @db.Uuid
  is_also                                 Boolean @default(false)
  is_also_required                        Boolean @default(false)
  is_parallel                             Boolean @default(false)
  is_required_parallel                    Boolean @default(false)
  created_at                              DateTime                    @default(now()) @db.Timestamp(6)
  created_by                              String @db.Uuid
  updated_at                              DateTime                    @default(now()) @db.Timestamp(6)
  updated_by                              String @db.Uuid
  annulled_at                             DateTime                    @default(now()) @db.Timestamp(6)
  annulled_by                             String @db.Uuid

  entity_type                             entity_type                @relation("entity_type_relationToentity_type", fields: [entity_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_type_related                     entity_type                @relation("entity_type_relationToentity_type_related", fields: [entity_type_related_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_related                          entity_relation[]          @relation("entity_relationToentity_type_relation")

  annullator_user                         system_subscription_user?   @relation("entity_type_relation_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                            system_subscription_user    @relation("entity_type_relation_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  updater_user                            system_subscription_user?   @relation("entity_type_relation_updated_byTosystem_subscription_user", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([entity_type_id, entity_type_related_id])
}

model entity_type_by_entity {
  id                                      String  @id @default(uuid()) @db.Uuid
  entity_id                               String  @db.Uuid
  entity_type_id                          String  @db.Uuid
  created_at                              DateTime                    @default(now()) @db.Timestamp(6)
  created_by                              String @db.Uuid
  updated_at                              DateTime                    @default(now()) @db.Timestamp(6)
  updated_by                              String @db.Uuid
  annulled_at                             DateTime                    @default(now()) @db.Timestamp(6)
  annulled_by                             String @db.Uuid

  entity                                  entity                      @relation("entity_type_by_entityToentity", fields: [entity_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_type                             entity_type                 @relation("entity_type_by_entityToentity_type", fields: [entity_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  annullator_user                         system_subscription_user?   @relation("entity_type_by_entity_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                            system_subscription_user    @relation("entity_type_by_entity_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  updater_user                            system_subscription_user?   @relation("entity_type_by_entity_updated_byTosystem_subscription_user", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([entity_id, entity_type_id])
}

model entity {
  id                                                                       String  @id @default(uuid()) @db.Uuid
  // entity_parent_id                                                         String?  @db.Uuid
  document_id                                                              String?  @db.Uuid
  is_natural                                                               String                      @default("1") @db.Bit(1)
  name                                                                     String                      @db.VarChar(2000)
  gender                                                                   entity_gender_enum?
  date_birth                                                               DateTime?                   @db.Timestamp(6)
  address                                                                  String?                     @db.VarChar(2000)
  photo                                                                    String?                     @db.VarChar(2000)
  created_at                                                               DateTime                    @default(now()) @db.Timestamp(6)
  created_by                                                               String? @db.Uuid
  inactivated_at                                                           DateTime?                   @db.Timestamp(6)
  inactivated_by                                                           String? @db.Uuid
  updated_at                                                               DateTime?                   @db.Timestamp(6)
  updated_by                                                               String? @db.Uuid
  annulled_at                                                              DateTime?                   @db.Timestamp(6)
  annulled_by                                                              String? @db.Uuid
  annullator_user                                                          system_subscription_user?   @relation("entity_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                                                             system_subscription_user?   @relation("entity_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  // entity                                                                   entity?                     @relation("entityToentity", fields: [entity_parent_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  // other_entity                                                             entity[]                    @relation("entityToentity")
  inactivator_user                                                         system_subscription_user?   @relation("entity_inactivated_byTosystem_subscription_user", fields: [inactivated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  updater_user                                                             system_subscription_user?   @relation("entity_updated_byTosystem_subscription_user", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)

  entity_type_by_entity                                                    entity_type_by_entity[]     @relation("entity_type_by_entityToentity")
  entity_relation                                                          entity_relation[]     @relation("entity_relationToentity")
  entity_as_related                                                        entity_relation[]     @relation("entity_relationToentity_related")

  entity_document                                                          entity_document[]
  entity_document_by_entity                                                entity_document_by_entity[]
  entity_email_by_entity                                                   entity_email_by_entity[]
  entity_name_by_entity                                                    entity_name_by_entity[]
  entity_phone_by_entity                                                   entity_phone_by_entity[]
  system_subscription                                                      system_subscription[]
  system_subscription_user                                                 system_subscription_user[]  @relation("system_subscription_user_entity_idToentity")
}

model entity_relation {
  id                                      String  @id @default(uuid()) @db.Uuid
  entity_id                               String  @db.Uuid
  entity_related_id                       String  @db.Uuid
  entity_type_relation_id                 String  @db.Uuid
  is_parent                               Boolean @default(false)
  is_parallel                             Boolean @default(false)
  created_at                              DateTime                    @default(now()) @db.Timestamp(6)
  created_by                              String @db.Uuid
  updated_at                              DateTime                    @default(now()) @db.Timestamp(6)
  updated_by                              String @db.Uuid
  annulled_at                             DateTime                    @default(now()) @db.Timestamp(6)
  annulled_by                             String @db.Uuid

  entity                                  entity                      @relation("entity_relationToentity", fields: [entity_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_related                          entity                      @relation("entity_relationToentity_related", fields: [entity_related_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_type_relation                    entity_type_relation        @relation("entity_relationToentity_type_relation", fields: [entity_type_relation_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  annullator_user                         system_subscription_user?   @relation("entity_relation_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                            system_subscription_user    @relation("entity_relation_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  updater_user                            system_subscription_user?   @relation("entity_relation_updated_byTosystem_subscription_user", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([entity_id, entity_related_id])
}

model entity_document {
  id                                                                             String  @id @default(uuid()) @db.Uuid
  entity_document_category_id                                                    String?  @db.Uuid
  entity_id                                                                      String?  @db.Uuid
  document                                                                       String?                     @db.VarChar(250)
  order                                                                          Int                         @default(0)
  created_at                                                                     DateTime                    @default(now()) @db.Timestamp(6)
  created_by                                                                     String @db.Uuid
  annulled_at                                                                    DateTime?                   @db.Timestamp(6)
  annulled_by                                                                    String? @db.Uuid
  annullator_user                                                                 system_subscription_user?   @relation("entity_document_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                                                                   system_subscription_user    @relation("entity_document_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_document_category                                                       entity_document_category?   @relation(fields: [entity_document_category_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity                                                                         entity?                     @relation(fields: [entity_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_document_by_entity                                                      entity_document_by_entity[]
}

model entity_document_by_entity {
  id                                                                                       String  @id @default(uuid()) @db.Uuid
  entity_id                                                                                String  @db.Uuid
  entity_document_id                                                                       String  @db.Uuid
  order                                                                                    Int                       @default(0)
  created_at                                                                               DateTime                  @default(now()) @db.Timestamp(6)
  created_by                                                                               String @db.Uuid
  annulled_at                                                                              DateTime?                 @db.Timestamp(6)
  annulled_by                                                                              String? @db.Uuid
  annullator_user                                                                           system_subscription_user? @relation("entity_document_by_entity_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                                                                             system_subscription_user  @relation("entity_document_by_entity_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_document                                                                          entity_document           @relation(fields: [entity_document_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity                                                                                   entity                    @relation(fields: [entity_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([entity_id, entity_document_id])
}

model entity_document_category {
  id                                                                                      String  @id @default(uuid()) @db.Uuid
  parent_id                                                                               String?  @db.Uuid
  city_id                                                                                 String?  @db.Uuid
  state_id                                                                                String?  @db.Uuid
  country_id                                                                              String?  @db.Uuid
  category                                                                                String                     @db.VarChar(250)
  symbol                                                                                  String?                    @db.VarChar(50)
  created_at                                                                              DateTime                   @default(now()) @db.Timestamp(6)
  created_by                                                                              String @db.Uuid
  annulled_at                                                                             DateTime?                  @db.Timestamp(6)
  annulled_by                                                                             String? @db.Uuid
  entity_document                                                                         entity_document[]
  annullator_user                                                                          system_subscription_user?  @relation("entity_document_category_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                                                                            system_subscription_user   @relation("entity_document_category_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_document_category                                                                entity_document_category?  @relation("entity_document_categoryToentity_document_category", fields: [parent_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  other_entity_document_category                                                          entity_document_category[] @relation("entity_document_categoryToentity_document_category")
}

model entity_email {
  id                                                                          String  @id @default(uuid()) @db.Uuid
  email                                                                       String                    @unique(map: "email") @db.VarChar(250)
  created_at                                                                  DateTime                  @default(now()) @db.Timestamp(6)
  created_by                                                                  String @db.Uuid
  updated_at                                                                  DateTime?                 @db.Timestamp(6)
  updated_by                                                                  String? @db.Uuid
  annulled_at                                                                 DateTime?                 @db.Timestamp(6)
  annulled_by                                                                 String? @db.Uuid
  annullator_user                                                              system_subscription_user? @relation("entity_email_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                                                                system_subscription_user  @relation("entity_email_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  updater_user                                                                system_subscription_user? @relation("entity_email_updated_byTosystem_subscription_user", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_email_by_entity                                                      entity_email_by_entity[]
}

model entity_email_by_entity {
  id                                                                                    String  @id @default(uuid()) @db.Uuid
  entity_id                                                                             String  @db.Uuid
  entity_email_id                                                                       String  @db.Uuid
  order                                                                                 Int                       @default(0)
  created_at                                                                            DateTime                  @default(now()) @db.Timestamp(6)
  created_by                                                                            String @db.Uuid
  annulled_at                                                                           DateTime?                 @db.Timestamp(6)
  annulled_by                                                                           String? @db.Uuid
  annullator_user                                                                        system_subscription_user? @relation("entity_email_by_entity_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                                                                          system_subscription_user  @relation("entity_email_by_entity_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_email                                                                          entity_email              @relation(fields: [entity_email_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity                                                                                entity                    @relation(fields: [entity_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([entity_id, entity_email_id])
}

model entity_name {
  id                                                                         String  @id @default(uuid()) @db.Uuid
  name                                                                       String                    @unique(map: "name") @db.VarChar(250)
  created_at                                                                 DateTime                  @default(now()) @db.Timestamp(6)
  created_by                                                                 String @db.Uuid
  updated_at                                                                 DateTime?                 @db.Timestamp(6)
  updated_by                                                                 String? @db.Uuid
  annulled_at                                                                DateTime?                 @db.Timestamp(6)
  annulled_by                                                                String? @db.Uuid
  annullator_user                                                             system_subscription_user? @relation("entity_name_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                                                               system_subscription_user  @relation("entity_name_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  updater_user                                                               system_subscription_user? @relation("entity_name_updated_byTosystem_subscription_user", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_name_by_entity                                                      entity_name_by_entity[]
}

model entity_name_by_entity {
  id                                                                                   String  @id @default(uuid()) @db.Uuid
  entity_id                                                                            String  @db.Uuid
  entity_name_id                                                                       String  @db.Uuid
  entity_name_type_id                                                                  String  @db.Uuid
  order_type                                                                           Int                       @default(0)
  order                                                                                Int                       @default(0)
  created_at                                                                           DateTime                  @default(now()) @db.Timestamp(6)
  created_by                                                                           String @db.Uuid
  annulled_at                                                                          DateTime?                 @db.Timestamp(6)
  annulled_by                                                                          String? @db.Uuid
  annullator_user                                                                       system_subscription_user? @relation("entity_name_by_entity_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                                                                         system_subscription_user  @relation("entity_name_by_entity_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity                                                                               entity                    @relation(fields: [entity_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_name                                                                          entity_name               @relation(fields: [entity_name_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_name_type                                                                     entity_name_type          @relation(fields: [entity_name_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([entity_id, entity_name_id, entity_name_type_id])
}

model entity_name_type {
  id                                                                              String  @id @default(uuid()) @db.Uuid
  type                                                                            entity_name_type_type_enum? @unique(map: "type")
  apply_to_natural                                                                Int                         @default(0)
  apply_to_legal                                                                  Int                         @default(0)
  created_at                                                                      DateTime                    @default(now()) @db.Timestamp(6)
  created_by                                                                      String? @db.Uuid
  updated_at                                                                      DateTime?                   @db.Timestamp(6)
  updated_by                                                                      String? @db.Uuid
  annulled_at                                                                     DateTime?                   @db.Timestamp(6)
  annulled_by                                                                     String? @db.Uuid
  entity_name_by_entity                                                           entity_name_by_entity[]
  annullator_user                                                                  system_subscription_user?   @relation("entity_name_type_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                                                                    system_subscription_user?   @relation("entity_name_type_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  updater_user                                                                    system_subscription_user?   @relation("entity_name_type_updated_byTosystem_subscription_user", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model entity_phone {
  id                                                                          String  @id @default(uuid()) @db.Uuid
  phone                                                                       String                    @unique(map: "phone") @db.VarChar(250)
  created_at                                                                  DateTime                  @default(now()) @db.Timestamp(6)
  created_by                                                                  String @db.Uuid
  updated_at                                                                  DateTime?                 @db.Timestamp(6)
  updated_by                                                                  String? @db.Uuid
  annulled_at                                                                 DateTime?                 @db.Timestamp(6)
  annulled_by                                                                 String? @db.Uuid
  annullator_user                                                              system_subscription_user? @relation("entity_phone_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                                                                system_subscription_user  @relation("entity_phone_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  updater_user                                                                system_subscription_user? @relation("entity_phone_updated_byTosystem_subscription_user", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_phone_by_entity                                                      entity_phone_by_entity[]
}

model entity_phone_by_entity {
  id                                                                                    String  @id @default(uuid()) @db.Uuid
  entity_id                                                                             String  @db.Uuid
  entity_phone_id                                                                       String  @db.Uuid
  order                                                                                 Int                       @default(0)
  created_at                                                                            DateTime                  @default(now()) @db.Timestamp(6)
  created_by                                                                            String @db.Uuid
  annulled_at                                                                           DateTime?                 @db.Timestamp(6)
  annulled_by                                                                           String? @db.Uuid
  annullator_user                                                                        system_subscription_user? @relation("entity_phone_by_entity_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                                                                          system_subscription_user  @relation("entity_phone_by_entity_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity                                                                                entity                    @relation(fields: [entity_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity_phone                                                                          entity_phone              @relation(fields: [entity_phone_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([entity_id, entity_phone_id])
}

model system {
  id                       String  @id @default(uuid()) @db.Uuid
  key_name                 String                    @unique(map: "key_name") @db.VarChar(250)
  name                     String                    @db.VarChar(250)
  logo                     String?                   @db.VarChar(2000)
  created_at               DateTime                  @default(now()) @db.Timestamp(6)
  inactivated_at           DateTime?                 @db.Timestamp(6)
  inactivated_by           String? @db.Uuid
  updated_at               DateTime?                 @db.Timestamp(6)
  annulled_at              DateTime?                 @db.Timestamp(6)
  system_subscription_user system_subscription_user? @relation(fields: [inactivated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  system_subscription      system_subscription[]
}

model system_subscription {
  id                                                                                            String  @id @default(uuid()) @db.Uuid
  system_id                                                                                     String  @db.Uuid
  entity_id                                                                                     String  @db.Uuid
  created_at                                                                                    DateTime                    @default(now()) @db.Timestamp(6)
  created_by                                                                                    String? @db.Uuid
  inactivated_at                                                                                DateTime?                   @db.Timestamp(6)
  inactivated_by                                                                                String? @db.Uuid
  updated_at                                                                                    DateTime?                   @db.Timestamp(6)
  updated_by                                                                                    String? @db.Uuid
  annulled_at                                                                                   DateTime?                   @db.Timestamp(6)
  annulled_by                                                                                   String? @db.Uuid
  annullator_user                                                                                system_subscription_user?   @relation("system_subscription_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                                                                                  system_subscription_user?   @relation("system_subscription_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  entity                                                                                        entity                      @relation(fields: [entity_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  Inactivating_user                                                                             system_subscription_user?   @relation("system_subscription_inactivated_byTosystem_subscription_user", fields: [inactivated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  system                                                                                        system                      @relation(fields: [system_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  updater_user                                                                                  system_subscription_user?   @relation("system_subscription_updated_byTosystem_subscription_user", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  system_subscription_user                                                                      system_subscription_user[]  @relation("system_subscription_user_system_subscription_idTosystem_subscription")
  unit_measurement_category                                                                     unit_measurement_category[]

  @@unique([system_id, entity_id], map: "system_subscription_index_0")
}

model system_subscription_user {
  id                                                                                               String  @id @default(uuid()) @db.Uuid
  system_subscription_id                                                                           String  @db.Uuid
  entity_id                                                                                        String  @db.Uuid
  username                                                                                         String?                          @db.VarChar(255)
  password                                                                                         String                           @db.VarChar(2500)
  created_at                                                                                       DateTime                         @default(now()) @db.Timestamp(6)
  created_by                                                                                       String? @db.Uuid
  inactivated_at                                                                                   DateTime?                        @db.Timestamp(6)
  inactivated_by                                                                                   String? @db.Uuid
  annulled_at                                                                                      DateTime?                        @db.Timestamp(6)
  annulled_by                                                                                      String? @db.Uuid

  TEMP_unit_measurement_category                                                                   TEMP_unit_measurement_category[]
  annulled_entity                                                                                  entity[]                         @relation("entity_annulled_byTosystem_subscription_user")
  created_entity                                                                                   entity[]                         @relation("entity_created_byTosystem_subscription_user")
  inactivated_entity                                                                               entity[]                         @relation("entity_inactivated_byTosystem_subscription_user")
  updated_entity                                                                                   entity[]                         @relation("entity_updated_byTosystem_subscription_user")
  annulled_entity_document                                                                         entity_document[]                @relation("entity_document_annulled_byTosystem_subscription_user")
  created_entity_document                                                                          entity_document[]                @relation("entity_document_created_byTosystem_subscription_user")
  annulled_entity_document_by_entity                                                               entity_document_by_entity[]      @relation("entity_document_by_entity_annulled_byTosystem_subscription_user")
  created_entity_document_by_entity                                                                entity_document_by_entity[]      @relation("entity_document_by_entity_created_byTosystem_subscription_user")
  annulled_entity_document_category                                                                entity_document_category[]       @relation("entity_document_category_annulled_byTosystem_subscription_user")
  created_entity_document_category                                                                 entity_document_category[]       @relation("entity_document_category_created_byTosystem_subscription_user")
  annulled_entity_email                                                                            entity_email[]                   @relation("entity_email_annulled_byTosystem_subscription_user")
  created_entity_email                                                                             entity_email[]                   @relation("entity_email_created_byTosystem_subscription_user")
  updated_entity_email                                                                             entity_email[]                   @relation("entity_email_updated_byTosystem_subscription_user")
  annulled_entity_email_by_entity                                                                  entity_email_by_entity[]         @relation("entity_email_by_entity_annulled_byTosystem_subscription_user")
  created_entity_email_by_entity                                                                   entity_email_by_entity[]         @relation("entity_email_by_entity_created_byTosystem_subscription_user")
  annulled_entity_name                                                                             entity_name[]                    @relation("entity_name_annulled_byTosystem_subscription_user")
  created_entity_name                                                                              entity_name[]                    @relation("entity_name_created_byTosystem_subscription_user")
  updated_entity_name                                                                              entity_name[]                    @relation("entity_name_updated_byTosystem_subscription_user")
  annulled_entity_name_by_entity                                                                   entity_name_by_entity[]          @relation("entity_name_by_entity_annulled_byTosystem_subscription_user")
  created_entity_name_by_entity                                                                    entity_name_by_entity[]          @relation("entity_name_by_entity_created_byTosystem_subscription_user")
  annulled_entity_name_type                                                                        entity_name_type[]               @relation("entity_name_type_annulled_byTosystem_subscription_user")
  created_entity_name_type                                                                         entity_name_type[]               @relation("entity_name_type_created_byTosystem_subscription_user")
  updated_entity_name_type                                                                         entity_name_type[]               @relation("entity_name_type_updated_byTosystem_subscription_user")
  annulled_entity_phone                                                                            entity_phone[]                   @relation("entity_phone_annulled_byTosystem_subscription_user")
  created_entity_phone                                                                             entity_phone[]                   @relation("entity_phone_created_byTosystem_subscription_user")
  updated_entity_phone                                                                             entity_phone[]                   @relation("entity_phone_updated_byTosystem_subscription_user")
  annulled_entity_phone_by_entity                                                                  entity_phone_by_entity[]         @relation("entity_phone_by_entity_annulled_byTosystem_subscription_user")
  created_entity_phone_by_entity                                                                   entity_phone_by_entity[]         @relation("entity_phone_by_entity_created_byTosystem_subscription_user")
  system                                                                                           system[]
  annulled_system_subscription                                                                     system_subscription[]            @relation("system_subscription_annulled_byTosystem_subscription_user")
  created_system_subscription                                                                      system_subscription[]            @relation("system_subscription_created_byTosystem_subscription_user")
  inactivated_system_subscription                                                                  system_subscription[]            @relation("system_subscription_inactivated_byTosystem_subscription_user")
  updated_system_subscription                                                                      system_subscription[]            @relation("system_subscription_updated_byTosystem_subscription_user")
  annulator_user                                                                                   system_subscription_user?        @relation("system_subscription_user_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  annulator_users                                                                                  system_subscription_user[]       @relation("system_subscription_user_annulled_byTosystem_subscription_user")
  creator_user                                                                                     system_subscription_user?        @relation("system_subscription_user_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_users                                                                                    system_subscription_user[]       @relation("system_subscription_user_created_byTosystem_subscription_user")
  entity                                                                                           entity                           @relation("system_subscription_user_entity_idToentity", fields: [entity_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  inactivator_user                                                                                 system_subscription_user?        @relation("system_subscription_user_inactivated_byTosystem_subscription_user", fields: [inactivated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  inactivator_users                                                                                system_subscription_user[]       @relation("system_subscription_user_inactivated_byTosystem_subscription_user")
  system_subscription                                                                              system_subscription              @relation("system_subscription_user_system_subscription_idTosystem_subscription", fields: [system_subscription_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  annulled_unit_measurement                                                                        unit_measurement[]               @relation("unit_measurement_annulled_byTosystem_subscription_user")
  created_unit_measurement                                                                         unit_measurement[]               @relation("unit_measurement_created_byTosystem_subscription_user")
  updated_unit_measurement                                                                         unit_measurement[]               @relation("unit_measurement_updated_byTosystem_subscription_user")
  annulled_unit_measurement_category                                                               unit_measurement_category[]      @relation("unit_measurement_category_annulled_byTosystem_subscription_user")
  created_unit_measurement_category                                                                unit_measurement_category[]      @relation("unit_measurement_category_created_byTosystem_subscription_user")
  updated_unit_measurement_category                                                                unit_measurement_category[]      @relation("unit_measurement_category_updated_byTosystem_subscription_user")


  annulled_entity_type                                                                             entity_type[]      @relation("entity_type_annulled_byTosystem_subscription_user")
  created_entity_type                                                                              entity_type[]      @relation("entity_type_created_byTosystem_subscription_user")
  updated_entity_type                                                                              entity_type[]      @relation("entity_type_updated_byTosystem_subscription_user")


  annulled_entity_type_hierarchy                                                                             entity_type_hierarchy[]      @relation("entity_type_hierarchy_annulled_byTosystem_subscription_user")
  created_entity_type_hierarchy                                                                              entity_type_hierarchy[]      @relation("entity_type_hierarchy_created_byTosystem_subscription_user")
  updated_entity_type_hierarchy                                                                              entity_type_hierarchy[]      @relation("entity_type_hierarchy_updated_byTosystem_subscription_user")


  annulled_entity_type_relation                                                                             entity_type_relation[]      @relation("entity_type_relation_annulled_byTosystem_subscription_user")
  created_entity_type_relation                                                                              entity_type_relation[]      @relation("entity_type_relation_created_byTosystem_subscription_user")
  updated_entity_type_relation                                                                              entity_type_relation[]      @relation("entity_type_relation_updated_byTosystem_subscription_user")


  annulled_entity_type_by_entity                                                                             entity_type_by_entity[]      @relation("entity_type_by_entity_annulled_byTosystem_subscription_user")
  created_entity_type_by_entity                                                                              entity_type_by_entity[]      @relation("entity_type_by_entity_created_byTosystem_subscription_user")
  updated_entity_type_by_entity                                                                              entity_type_by_entity[]      @relation("entity_type_by_entity_updated_byTosystem_subscription_user")


  annulled_entity_relation                                                                             entity_relation[]      @relation("entity_relation_annulled_byTosystem_subscription_user")
  created_entity_relation                                                                              entity_relation[]      @relation("entity_relation_created_byTosystem_subscription_user")
  updated_entity_relation                                                                              entity_relation[]      @relation("entity_relation_updated_byTosystem_subscription_user")

  @@unique([system_subscription_id, entity_id], map: "system_subscription_user_index_0")
  @@unique([system_subscription_id, username], map: "system_subscription_user_index_1")
}

model unit_measurement {
  id                                                                              String  @id @default(uuid()) @db.Uuid
  unit_measurement_category_id                                                    String  @db.Uuid
  unit_measurement_base_id                                                        String?  @db.Uuid
  unit_measurement                                                                String                    @db.VarChar(250)
  symbol                                                                          String?                   @db.VarChar(50)
  value                                                                           String                    @db.VarChar(250)
  numeric_value                                                                   String?                   @db.VarChar(250)
  created_at                                                                      DateTime                  @default(now()) @db.Timestamp(6)
  created_by                                                                      String? @db.Uuid
  updated_at                                                                      DateTime?                 @db.Timestamp(6)
  updated_by                                                                      String? @db.Uuid
  annulled_at                                                                     DateTime?                 @db.Timestamp(6)
  annulled_by                                                                     String? @db.Uuid
  annullator_user                                                                  system_subscription_user? @relation("unit_measurement_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                                                                    system_subscription_user? @relation("unit_measurement_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  unit_measurement_base                                                           unit_measurement?         @relation("unit_measurementTounit_measurement", fields: [unit_measurement_base_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  other_unit_measurement                                                          unit_measurement[]        @relation("unit_measurementTounit_measurement")
  unit_measurement_category                                                       unit_measurement_category @relation(fields: [unit_measurement_category_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  updater_user                                                                    system_subscription_user? @relation("unit_measurement_updated_byTosystem_subscription_user", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([unit_measurement_category_id, unit_measurement, symbol], map: "unit_measurement_index_0")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model unit_measurement_category {
  id                                                                                       String  @id @default(uuid()) @db.Uuid
  system_subscription_id                                                                   String?  @db.Uuid
  parent_id                                                                                String?  @db.Uuid
  category                                                                                 String                           @db.VarChar(250)
  created_at                                                                               DateTime                         @default(now()) @db.Timestamp(6)
  created_by                                                                               String? @db.Uuid
  updated_at                                                                               DateTime?                        @db.Timestamp(6)
  updated_by                                                                               String? @db.Uuid
  annulled_at                                                                              DateTime?                        @db.Timestamp(6)
  annulled_by                                                                              String? @db.Uuid
  old_parent_id                                                                            String?  @db.Uuid
  old_id                                                                                   String  @db.Uuid
  TEMP_unit_measurement_category                                                           TEMP_unit_measurement_category[]
  unit_measurement                                                                         unit_measurement[]
  annullator_user                                                                          system_subscription_user?        @relation("unit_measurement_category_annulled_byTosystem_subscription_user", fields: [annulled_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  creator_user                                                                             system_subscription_user?        @relation("unit_measurement_category_created_byTosystem_subscription_user", fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction)
  unit_measurement_category                                                                unit_measurement_category?       @relation("unit_measurement_categoryTounit_measurement_category", fields: [parent_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  other_unit_measurement_category                                                          unit_measurement_category[]      @relation("unit_measurement_categoryTounit_measurement_category")
  system_subscription                                                                      system_subscription?             @relation(fields: [system_subscription_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  updater_user                                                                             system_subscription_user?        @relation("unit_measurement_category_updated_byTosystem_subscription_user", fields: [updated_by], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([system_subscription_id, parent_id, category], map: "unit_measurement_category_unique_1")
}

enum entity_gender_enum {
  Male
  Female
}

enum entity_name_type_type_enum {
  Name
  Surname
  Alias
  Business_Name         @map("Business Name")
  Comercial_Designation @map("Comercial Designation")
}
